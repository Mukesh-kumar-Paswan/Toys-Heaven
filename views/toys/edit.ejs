<% layout("./layouts/boilerplate.ejs") -%>
<div class="form-wrapper">
  <div class="form-card">
    <h1 class="form-title">Edit Toy</h1>
    
    <form action="/toys/<%= toy._id %>?_method=PUT" method="POST">
      <div class="form-group">
        <label class="form-label" for="title">Toy Title</label>
        <input class="form-control" type="text" name="toy[title]" id="title" value="<%= toy.title %>" required />
      </div>

      <div class="form-group">
        <label class="form-label" for="description">Description</label>
        <textarea class="form-control" name="toy[description]" id="description" required><%= toy.description %></textarea>
      </div>

      <div class="form-group">
        <label class="form-label" for="image">Image URL</label>
        <input class="form-control" type="text" name="toy[image]" id="image" value="<%= toy.image %>" required />
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
          <div class="form-group">
            <label class="form-label" for="price">Price (&#8377;)</label>
            <input class="form-control" type="number" name="toy[price]" id="price" value="<%= toy.price %>" min="1" required />
          </div>

          <div class="form-group">
             <label class="form-label" for="category">Category</label>
             <% const categories = ["Educational","Action","Puzzle","Soft Toy","Vehicle","Others"]; %>
             <select class="form-control" name="toy[category]" id="category" required>
                <% categories.forEach(cat => { %>
                    <option value="<%= cat %>" <%= toy.category === cat ? "selected" : "" %>><%= cat %></option>
                <% }); %>
             </select>
          </div>
      </div>

      <button class="btn-submit">Save Changes</button>
    </form>
  </div>
</div>